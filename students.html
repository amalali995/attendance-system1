<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إدارة الطلاب - نظام الحضور</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-btn">
                <i class="fas fa-arrow-right"></i> العودة للرئيسية
            </a>
            <h1><i class="fas fa-users"></i> إدارة الطلاب</h1>
            <div></div>
        </div>
        
        <div class="main-content">
            <div class="form-section">
                <h2 class="form-title">إضافة طالب جديد</h2>
                <div class="form-group">
                    <label for="studentName">اسم الطالب:</label>
                    <input type="text" id="studentName" placeholder="أدخل اسم الطالب">
                </div>
                <div class="form-group">
                    <label for="studentId">رقم الهوية:</label>
                    <input type="text" id="studentId" placeholder="أدخل رقم الهوية">
                </div>
                <div class="form-group">
                    <label for="studentClass">الصف:</label>
                    <select id="studentClass">
                        <option value=" السبت3">  السبت3</option>
                        <option value=" السبت 4"> 4 السبت </option>
                        <option value="5 السبت"> السبت  1ث 5</option>
                        <option value="السبت 6 ">6  السبت</option>
                        <option value="السبت 7">السبت 7</option>

                        <option value=" 3الاحد"> الاحد3</option>
                        <option value=" 4الاحد ">  الاحد4</option>
                        <option value="5 الاحد"> الاحد 5</option>
                        <option value="الاحد 6">6  الاحد</option>
                        <option value="الاحد 7" >الاحد 7</option>
                       

                    </select>
                </div>
                <button class="btn btn-primary" onclick="addStudent()">
                    <i class="fas fa-plus"></i> إضافة طالب
                </button>
            </div>
            
            <div class="students-list">
                <h2 class="form-title">قائمة الطلاب</h2>
                <table id="studentsTable">
                    <thead>
                        <tr>
                            <th>رقم الهوية</th>
                            <th>اسم الطالب</th>
                            <th>الصف</th>
                            <th>الإجراءات</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // تحميل بيانات الطلاب من localStorage
        let students = JSON.parse(localStorage.getItem('students')) || [];
        
        // تحديث جدول الطلاب
        function updateStudentsTable() {
            const tableBody = document.querySelector('#studentsTable tbody');
            tableBody.innerHTML = '';
            
            students.forEach(student => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${student.id}</td>
                    <td>${student.name}</td>
                    <td>${student.class}</td>
                    <td>
                        <button class="action-btn delete-btn" onclick="deleteStudent('${student.id}')">
                            <i class="fas fa-trash"></i> حذف
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // إضافة طالب جديد
        function addStudent() {
            const name = document.getElementById('studentName').value;
            const id = document.getElementById('studentId').value;
            const studentClass = document.getElementById('studentClass').value;
            
            if (!name || !id) {
                alert('يرجى إدخال اسم الطالب ورقم الهوية');
                return;
            }
            
            // التحقق إذا كان الرقم مسجل مسبقاً
            if (students.some(s => s.id === id)) {
                alert('رقم الهوية مسجل مسبقاً');
                return;
            }
            
            // إضافة الطالب
            students.push({
                id: id,
                name: name,
                class: studentClass
            });
            
            localStorage.setItem('students', JSON.stringify(students));
            
            // تحديث الجدول
            updateStudentsTable();
            
            // تفريغ الحقول
            document.getElementById('studentName').value = '';
            document.getElementById('studentId').value = '';
            
            alert('تم إضافة الطالب بنجاح');
        }
        
        // حذف طالب
        function deleteStudent(studentId) {
            if (confirm('هل أنت متأكد من رغبتك في حذف هذا الطالب؟')) {
                students = students.filter(s => s.id !== studentId);
                localStorage.setItem('students', JSON.stringify(students));
                updateStudentsTable();
                alert('تم حذف الطالب بنجاح');
            }
        }
        
        // تهيئة الصفحة عند التحميل
        window.onload = function() {
            updateStudentsTable();
        };
    </script>
</body>
</html>